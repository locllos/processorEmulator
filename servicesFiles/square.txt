IN
IN
IN
CALL SQUARE_EQUATION
HLT

SQUARE_EQUATION:
	POP rcx
	POP rbx
	POP rax
	PUSH rax
	PUSH 0
	JE LINEAR
	JMP SQUARE

LINEAR:
	PUSH rbx
	PUSH 0
	JNE ONE_ROOTS
	JMP ZERO_ROOTS
	
SQUARE:	
	PUSH rbx
	PUSH rbx
	MUL
	PUSH 4
	PUSH rax
	PUSH rcx
	MUL
	MUL
	SUB
	POP rdx
	PUSH rdx
	PUSH 0
	JAE TWO_ROOTS
	JMP ZERO_ROOTS 

ZERO_ROOTS:
	RET

ONE_ROOTS:
	PUSH rbx
	PUSH rcx
	DIV
	OUT
	RET

TWO_ROOTS:
	PUSH rdx
	SQRT
	POP rdx
	PUSH 0
	PUSH rbx
	SUB
	PUSH rdx
	ADD
	PUSH 2
	DIV
	OUT
	PUSH 0
	PUSH rbx
	SUB
	PUSH rdx
	SUB
	PUSH 2
	DIV
	OUT
	RET
	